{"cells":[{"cell_type":"code","execution_count":4,"metadata":{"executionInfo":{"elapsed":3570,"status":"ok","timestamp":1763659697583,"user":{"displayName":"Simone MAZZOLI","userId":"10020404258555610743"},"user_tz":-60},"id":"_E0twTb7-U_H"},"outputs":[],"source":["# @title Caricamento librerie e modello\n","import google.generativeai as genai\n","from google.colab import userdata\n","\n","#AIzaSyBz4QLEs853fPjcRMRiEybpkxenrHR3T5Y\n","GOOGLE_API_KEY=userdata.get('GOOGLE_API_KEY')\n","genai.configure(api_key=GOOGLE_API_KEY)\n","\n","# Initialize the Gemini API with a chat-capable model\n","gemini_model = genai.GenerativeModel('models/gemma-3-27b-it') # 'gemini-pro' is a good choice for chat"]},{"cell_type":"code","execution_count":null,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":356},"id":"0867b6b3","outputId":"4a317857-762d-4bf6-d4a4-b85fd000e36c","cellView":"form","collapsed":true,"executionInfo":{"status":"error","timestamp":1760830679584,"user_tz":-120,"elapsed":2936,"user":{"displayName":"Simone MAZZOLI","userId":"10020404258555610743"}}},"outputs":[{"output_type":"error","ename":"KeyboardInterrupt","evalue":"Interrupted by user","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)","\u001b[0;32m/tmp/ipython-input-3748877118.py\u001b[0m in \u001b[0;36m<cell line: 0>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      6\u001b[0m \u001b[0;31m# Richiesta della parola segreta\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 7\u001b[0;31m \u001b[0mparola_segreta\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0minput\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Inserisci la parola segreta (digita 'x' per uscire): \"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m      8\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0mparola_segreta\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m\"x\"\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      9\u001b[0m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Gioco terminato.\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.12/dist-packages/ipykernel/kernelbase.py\u001b[0m in \u001b[0;36mraw_input\u001b[0;34m(self, prompt)\u001b[0m\n\u001b[1;32m   1175\u001b[0m                 \u001b[0;34m\"raw_input was called, but this frontend does not support input requests.\"\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1176\u001b[0m             )\n\u001b[0;32m-> 1177\u001b[0;31m         return self._input_request(\n\u001b[0m\u001b[1;32m   1178\u001b[0m             \u001b[0mstr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mprompt\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1179\u001b[0m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_parent_ident\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"shell\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.12/dist-packages/ipykernel/kernelbase.py\u001b[0m in \u001b[0;36m_input_request\u001b[0;34m(self, prompt, ident, parent, password)\u001b[0m\n\u001b[1;32m   1217\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mKeyboardInterrupt\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1218\u001b[0m                 \u001b[0;31m# re-raise KeyboardInterrupt, to truncate traceback\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1219\u001b[0;31m                 \u001b[0;32mraise\u001b[0m \u001b[0mKeyboardInterrupt\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Interrupted by user\"\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1220\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mException\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1221\u001b[0m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlog\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwarning\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Invalid Message:\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mexc_info\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mTrue\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyboardInterrupt\u001b[0m: Interrupted by user"]}],"source":["# @title Versione con Parola segreta da inserire\n","\n","# Start a chat session\n","chat = gemini_model.start_chat(history=[])\n","\n","# Richiesta della parola segreta\n","parola_segreta = input(\"Inserisci la parola segreta (digita 'x' per uscire): \")\n","if parola_segreta.lower() == \"x\":\n","    print(\"Gioco terminato.\")\n","    exit()\n","\n","# Richiesta della parola iniziale\n","sequenza = input(\"Inizia la sequenza digitando una frase (digita 'x' per uscire): \")\n","if sequenza.lower() == \"x\":\n","    print(\"Gioco terminato.\")\n","    exit()\n","\n","# Ciclo di gioco\n","while True:\n","    # Turno del modello\n","    prompt = f\"\"\"\n","Stai giocando a Intesa Vincente con Giocatore 1 e Giocatore 2.\n","Tu e Giocatore 2 dovete fare indovinare la parola segreta [{parola_segreta}] al Giocatore 1\n","componendo la frase parola per parola.\n","Puoi usare parole italiane. Non puoi usare la parola [{parola_segreta}] n√© i suoi derivati. Non aggiungere formattazioni.\n","\n","Esempi:\n","- Se la parola segreta √® \"pizza\" e la sequenza √® [\"cibo\"], puoi rispondere con \"italiano\".\n","- Se la parola segreta √® \"mago\" e la sequenza √® [\"uomo\", \"con\", \"poteri\"], puoi rispondere con \"magici\".\n","- Se la parola segreta √® \"computer\" e la sequenza √® [\"strumento\", \"per\"], puoi rispondere con \"lavorare\".\n","- Se la parola segreta √® \"calcio\" e la sequenza √® [\"sport\", \"pi√π\"], puoi rispondere con \"popolare\".\n","- Se la parola segreta √® \"mucca\" e la sequenza √® [\"sinonimo\", \"di\"], puoi rispondere con \"vacca\".\n","- Se la parola segreta √® \"puntura\" e la sequenza √® [\"cosa\", \"ti\", \"fa\", \"una\"], puoi rispondere con \"zanzara\".\n","- Se la parola segreta √® \"single\" e la sequenza √® [\"non\", \"sposato\", \"n√©\"], puoi rispondere con \"fidanzato\".\n","\n","Esempi negativi:\n","Non produrre sequenze agrammaticali come [\"il\", \"dell'\"]\n","\n","La frase gi√† generata √® [{sequenza}], genera una sola parola grammaticalmente coerente con la frase per continuarla.\n","Attenzione, non restituirmi la sequenza aggiornata ma soltanto la parola che hai scelto.\n","Genera adesso la parola successiva per la sequenza corrente.\n","\"\"\"\n","    response = chat.send_message(prompt)\n","    nuova_parola_llm = response.text.strip()\n","    sequenza += \" \" + nuova_parola_llm\n","    print(f\"ü§ñ LLM: {nuova_parola_llm}\\n\")\n","    print(f\"Sequenza attuale: {sequenza}\\n\")\n","\n","    # Turno del giocatore\n","    while True:\n","        nuova_parola_player = input(\"Tocca a te, aggiungi una parola (digita 'x' per uscire): \").strip()\n","\n","        # Se il giocatore vuole uscire\n","        if nuova_parola_player.lower() == \"x\":\n","            print(\"Gioco terminato.\")\n","            exit()\n","\n","        # Controllo che ci sia almeno e solo una parola\n","        if \" \" in nuova_parola_player:\n","            print(\"‚ùå Errore: puoi inserire solo UNA parola. Riprova.\")\n","        elif nuova_parola_player == \"\":\n","            print(\"‚ùå Errore: non puoi lasciare vuoto. Riprova.\")\n","        else:\n","            break  # input valido, esco dal ciclo\n","\n","    sequenza += \" \" + nuova_parola_player\n","    print(f\"üë®üèª‚Äçü¶∞ Giocatore: {nuova_parola_player}\\n\")\n","    print(f\"Sequenza attuale: {sequenza}\\n\")"]},{"cell_type":"code","execution_count":null,"metadata":{"cellView":"form","id":"NNC7D8enFDSM","colab":{"base_uri":"https://localhost:8080/","height":429},"executionInfo":{"status":"error","timestamp":1760830999817,"user_tz":-120,"elapsed":8260,"user":{"displayName":"Simone MAZZOLI","userId":"10020404258555610743"}},"outputId":"2cc7ab0e-1aef-45f5-8314-fab8db6b6328"},"outputs":[{"output_type":"stream","name":"stdout","text":["üîí La parola segreta √®: Finestra\n","\n"]},{"output_type":"error","ename":"KeyboardInterrupt","evalue":"Interrupted by user","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mKeyboardInterrupt\u001b[0m                         Traceback (most recent call last)","\u001b[0;32m/tmp/ipython-input-3327363540.py\u001b[0m in \u001b[0;36m<cell line: 0>\u001b[0;34m()\u001b[0m\n\u001b[1;32m     11\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     12\u001b[0m \u001b[0;31m# Richiesta della parola iniziale\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m---> 13\u001b[0;31m \u001b[0msequenza\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0minput\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Inizia la sequenza digitando una frase (digita 'x' per uscire): \"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m     14\u001b[0m \u001b[0;32mif\u001b[0m \u001b[0msequenza\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlower\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m==\u001b[0m \u001b[0;34m\"x\"\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m     15\u001b[0m     \u001b[0mprint\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Gioco terminato.\"\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.12/dist-packages/ipykernel/kernelbase.py\u001b[0m in \u001b[0;36mraw_input\u001b[0;34m(self, prompt)\u001b[0m\n\u001b[1;32m   1175\u001b[0m                 \u001b[0;34m\"raw_input was called, but this frontend does not support input requests.\"\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1176\u001b[0m             )\n\u001b[0;32m-> 1177\u001b[0;31m         return self._input_request(\n\u001b[0m\u001b[1;32m   1178\u001b[0m             \u001b[0mstr\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mprompt\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1179\u001b[0m             \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_parent_ident\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"shell\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.12/dist-packages/ipykernel/kernelbase.py\u001b[0m in \u001b[0;36m_input_request\u001b[0;34m(self, prompt, ident, parent, password)\u001b[0m\n\u001b[1;32m   1217\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mKeyboardInterrupt\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1218\u001b[0m                 \u001b[0;31m# re-raise KeyboardInterrupt, to truncate traceback\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1219\u001b[0;31m                 \u001b[0;32mraise\u001b[0m \u001b[0mKeyboardInterrupt\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Interrupted by user\"\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;32mfrom\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   1220\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mException\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1221\u001b[0m                 \u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mlog\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mwarning\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m\"Invalid Message:\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mexc_info\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mTrue\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;31mKeyboardInterrupt\u001b[0m: Interrupted by user"]}],"source":["# @title Versione con Parola segreta generata automaticamente\n","# Start a chat session\n","chat = gemini_model.start_chat(history=[])\n","\n","# Generazione automatica della parola segreta\n","prompt_segreto = \"Genera una parola casuale. Rispondi solo con la parola.\"\n","response_segreto = chat.send_message(prompt_segreto)\n","parola_segreta = response_segreto.text.strip()\n","\n","print(f\"üîí La parola segreta √®: {parola_segreta}\\n\")\n","\n","# Richiesta della parola iniziale\n","sequenza = input(\"Inizia la sequenza digitando una frase (digita 'x' per uscire): \")\n","if sequenza.lower() == \"x\":\n","    print(\"Gioco terminato.\")\n","    exit()\n","\n","# Ciclo di gioco\n","while True:\n","    # Turno del modello\n","    prompt = f\"\"\"\n","Stai giocando a Intesa Vincente con Giocatore 1 e Giocatore 2.\n","Tu e Giocatore 2 dovete fare indovinare la parola segreta [{parola_segreta}] al Giocatore 1\n","componendo la frase parola per parola.\n","Puoi usare parole italiane. Non puoi usare la parola [{parola_segreta}]\n","\n","La sequenza gi√† generata √® [{sequenza}], genera una parola coerente con la sequenza.\n","\"\"\"\n","    response = chat.send_message(prompt)\n","    nuova_parola_llm = response.text.strip()\n","    sequenza += \" \" + nuova_parola_llm\n","    print(f\"ü§ñ LLM: {nuova_parola_llm}\\n\")\n","    print(f\"Sequenza attuale: {sequenza}\\n\")\n","\n","    # Turno del giocatore\n","    while True:\n","        nuova_parola_player = input(\"Tocca a te, aggiungi una parola (digita 'x' per uscire): \").strip()\n","\n","        if nuova_parola_player.lower() == \"x\":\n","            print(\"Gioco terminato.\")\n","            exit()\n","\n","        if \" \" in nuova_parola_player:\n","            print(\"‚ùå Errore: puoi inserire solo UNA parola. Riprova.\")\n","        elif nuova_parola_player == \"\":\n","            print(\"‚ùå Errore: non puoi lasciare vuoto. Riprova.\")\n","        else:\n","            break\n","\n","    sequenza += \" \" + nuova_parola_player\n","    print(f\"üë®üèª‚Äçü¶∞ Giocatore: {nuova_parola_player}\\n\")\n","    print(f\"Sequenza attuale: {sequenza}\\n\")"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"7dkFSvByJhna","colab":{"base_uri":"https://localhost:8080/","height":711},"executionInfo":{"status":"ok","timestamp":1757707964490,"user_tz":-120,"elapsed":1242,"user":{"displayName":"Simone MAZZOLI","userId":"10020404258555610743"}},"outputId":"739733ae-09ce-45a4-823b-8f3882db0cc1"},"outputs":[{"output_type":"stream","name":"stdout","text":["models/gemini-1.5-pro-latest\n","models/gemini-1.5-pro-002\n","models/gemini-1.5-pro\n","models/gemini-1.5-flash-latest\n","models/gemini-1.5-flash\n","models/gemini-1.5-flash-002\n","models/gemini-1.5-flash-8b\n","models/gemini-1.5-flash-8b-001\n","models/gemini-1.5-flash-8b-latest\n","models/gemini-2.5-pro-preview-03-25\n","models/gemini-2.5-flash-preview-05-20\n","models/gemini-2.5-flash\n","models/gemini-2.5-flash-lite-preview-06-17\n","models/gemini-2.5-pro-preview-05-06\n","models/gemini-2.5-pro-preview-06-05\n","models/gemini-2.5-pro\n","models/gemini-2.0-flash-exp\n","models/gemini-2.0-flash\n","models/gemini-2.0-flash-001\n","models/gemini-2.0-flash-lite-001\n","models/gemini-2.0-flash-lite\n","models/gemini-2.0-flash-lite-preview-02-05\n","models/gemini-2.0-flash-lite-preview\n","models/gemini-2.0-pro-exp\n","models/gemini-2.0-pro-exp-02-05\n","models/gemini-exp-1206\n","models/gemini-2.0-flash-thinking-exp-01-21\n","models/gemini-2.0-flash-thinking-exp\n","models/gemini-2.0-flash-thinking-exp-1219\n","models/gemini-2.5-flash-preview-tts\n","models/gemini-2.5-pro-preview-tts\n","models/learnlm-2.0-flash-experimental\n","models/gemma-3-1b-it\n","models/gemma-3-4b-it\n","models/gemma-3-12b-it\n","models/gemma-3-27b-it\n","models/gemma-3n-e4b-it\n","models/gemma-3n-e2b-it\n","models/gemini-2.5-flash-lite\n","models/gemini-2.5-flash-image-preview\n"]}],"source":["for m in genai.list_models():\n","  if 'generateContent' in m.supported_generation_methods:\n","    print(m.name)"]},{"cell_type":"code","source":["\n","print(f\"Using model: {gemini_model.model_name}\")\n","\n","# Make a simple request to demonstrate API key usage\n","# The API key is implicitly used from the `genai.configure` call in the setup cell (_E0twTb7-U_H)\n","try:\n","    response = gemini_model.generate_content(\"What is the capital of France?\")\n","    print(\"API request successful!\")\n","    print(\"Response:\", response.text)\n","    print(\"\\nNote: API key usage and rate limits are managed by Google Cloud and usually monitored in the Google Cloud Console or via their client libraries' error handling.\")\n","except Exception as e:\n","    print(f\"An error occurred: {e}\")\n","    print(\"This could be due to rate limits, incorrect API key, or other API issues.\")"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":228},"id":"W9O8mYVBS6kv","executionInfo":{"status":"ok","timestamp":1763659821553,"user_tz":-60,"elapsed":1949,"user":{"displayName":"Simone MAZZOLI","userId":"10020404258555610743"}},"outputId":"b2562092-9bb0-439c-9438-94abd1d3b292"},"execution_count":7,"outputs":[{"output_type":"stream","name":"stdout","text":["Using model: models/gemma-3-27b-it\n","API request successful!\n","Response: The capital of France is **Paris**. \n","\n","It's known for iconic landmarks like the Eiffel Tower, the Louvre Museum, and the Arc de Triomphe, as well as its fashion, cuisine, and culture.\n","\n","\n","\n","\n","\n","Note: API key usage and rate limits are managed by Google Cloud and usually monitored in the Google Cloud Console or via their client libraries' error handling.\n"]}]}],"metadata":{"accelerator":"GPU","colab":{"gpuType":"T4","provenance":[]},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}